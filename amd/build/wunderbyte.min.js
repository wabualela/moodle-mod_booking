define("mod_booking/wunderbyte",["exports"],(function(_exports){
/**
   * WunderByte javascript library/framework
   *
   * @module mod_booking/wunderbyte
   * @copyright 2023 Kamil Hurajt <info@wunderbyte.at>
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
function WunderByteJS(){}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.WunderByteJS=WunderByteJS,WunderByteJS.prototype.sortable=function(opt){let sortableItems=[],sortableContainer=null,draggingItem=null,options={items:".wb-item-sortable",container:".wb-item-container"};options={...options,...opt},console.log(options),this.init=function(){sortableItems=document.querySelectorAll(options.items),sortableContainer=document.querySelector(options.container),sortableItems.forEach((item=>{item.setAttribute("draggable",!0)})),sortableContainer&&sortableContainer.addEventListener("dragstart",this.sortable.bind(this))},this.sortable=function(event){draggingItem=event.target.closest(".list-group-item"),event.dataTransfer.effectAllowed="move",event.dataTransfer.setData("Text",draggingItem.textContent),sortableContainer.addEventListener("dragover",this.dragOver.bind(this),!1),sortableContainer.addEventListener("dragend",this.dragEnd.bind(this),!1),setTimeout((function(){draggingItem.classList.add("ghost")}),0)},this.getVerticalCenter=function(element){let r=element.getBoundingClientRect();return(r.bottom-r.top)/2},this.getMouseOffset=function(event){let r=event.target.closest(".list-group-item").getBoundingClientRect();return{x:event.pageX-r.left,y:event.pageY-r.top}},this.dragOver=function(event){event.preventDefault(),event.dataTransfer.dropEffect="move";var target=event.target.closest(".list-group-item");if(target&&target!==draggingItem&&"LI"==target.nodeName){const offset=this.getMouseOffset(event),middleY=this.getVerticalCenter(target);offset.y>middleY&&target.nextSibling?sortableContainer.insertBefore(draggingItem,target.nextSibling):target&&-1!==target.className.indexOf(options.item)&&sortableContainer.insertBefore(draggingItem,target)}},this.dragEnd=function(event){event.preventDefault(),draggingItem&&(draggingItem.classList.remove("ghost"),sortableContainer.removeEventListener("dragover",this.dragOver,!1),sortableContainer.removeEventListener("dragend",this.dragEnd,!1),draggingItem=null)},this.init()},WunderByteJS.prototype.dragable=function(opt){let options={container:".wb-droppable",items:".wb-item-draggable"},draggingItem=null;return options={...options,...opt},this.init=function(){document.querySelectorAll(options.items).forEach((item=>{item.setAttribute("draggable",!0),item.addEventListener("dragstart",this.dragStart.bind(this)),item.addEventListener("dragend",this.dragEnd.bind(this))})),document.querySelectorAll(options.container).forEach((container=>{container.classList.add("wb-droppable"),container.addEventListener("dragenter",this.dragEnter.bind(this)),container.addEventListener("dragover",this.dragOver.bind(this)),container.addEventListener("drop",this.dragDrop.bind(this))}))},this.dragStart=function(){setTimeout((()=>this.classList.add("hidden")),0),draggingItem=this},this.dragEnd=function(){this.classList.remove("hidden"),draggingItem=null},this.dragDrop=function(){this.append(draggingItem)},this.dragEnter=function(e){e.preventDefault()},this.dragOver=function(e){e.preventDefault()},this.init()}}));

//# sourceMappingURL=wunderbyte.min.js.map